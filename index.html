<!-- index.html (put in project root or ./static/) -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Superconductor Predictor</title>
</head>
<body>
  <h3>Superconductor Predictor â€” enter descriptors</h3>
  <form id="f">
    <!-- Replace these inputs with every descriptor name in metadata.feature_order -->
    <label>temp: <input name="temp" type="number" step="0.01" required></label><br>
    <label>pressure: <input name="pressure" type="number" step="0.01" required></label><br>
    <label>feature_A: <input name="feature_A" type="number" step="0.0001" required></label><br>
    <label>feature_B: <input name="feature_B" type="number" step="0.0001" required></label><br>
    <label>feature_C: <input name="feature_C" type="number" step="0.0001" required></label><br>
    <button type="submit">Predict</button>
  </form>

  <pre id="out"></pre>

  <script>
    document.getElementById('f').onsubmit = async e => {
      e.preventDefault();
      const form = new FormData(e.target);
      const payload = Object.fromEntries(form.entries());
      // convert numeric strings to numbers
      Object.keys(payload).forEach(k => payload[k] = Number(payload[k]));
      const res = await fetch('/predict', {
        method: 'POST',
        body: JSON.stringify(payload),
        headers: {'Content-Type': 'application/json'}
      });
      const json = await res.json();
      document.getElementById('out').textContent = JSON.stringify(json, null, 2);
    };
  </script>
</body>
</html>
